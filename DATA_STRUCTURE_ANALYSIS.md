# üìä –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

## –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏ Firestore:
```
classes
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ teacherId
‚îú‚îÄ‚îÄ name
‚îî‚îÄ‚îÄ createdAt

students
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ classId
‚îú‚îÄ‚îÄ firstName
‚îî‚îÄ‚îÄ lastName

journals
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ classId
‚îú‚îÄ‚îÄ name
‚îî‚îÄ‚îÄ isDefault

journalStudents (—Å–≤—è–∑—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞)
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ journalId
‚îî‚îÄ‚îÄ studentId

lessons
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ journalId
‚îî‚îÄ‚îÄ date

attendance
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ lessonId
‚îú‚îÄ‚îÄ studentId
‚îî‚îÄ‚îÄ isPresent

grades
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ lessonId
‚îú‚îÄ‚îÄ studentId
‚îú‚îÄ‚îÄ grade
‚îî‚îÄ‚îÄ comment?
```

---

## üîç –ê–Ω–∞–ª–∏–∑: –°—Ç–æ–∏—Ç –ª–∏ –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É?

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:

1. **–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. **–ì–∏–±–∫–æ—Å—Ç—å** - –æ–¥–∏–Ω —É—á–µ–Ω–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∂—É—Ä–Ω–∞–ª–∞—Ö
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —É—á–µ–Ω–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
4. **Real-time updates** - Firestore –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

### üî¥ –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:

#### 1. **`journalStudents` - —Å–≤—è–∑—É—é—â–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∂—É—Ä–Ω–∞–ª–∞
- –ö–∞–∂–¥–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ = –æ—Ç–¥–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

**–¢–µ–∫—É—â–∏–π —Ñ–ª–æ—É:**
```
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∂—É—Ä–Ω–∞–ª
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å journalStudents (WHERE journalId == X)
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ –∏—Ö ID (batch)
= 3 –∑–∞–ø—Ä–æ—Å–∞ –º–∏–Ω–∏–º—É–º
```

#### 2. **`attendance` –∏ `grades` - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —É—Ä–æ–∫–∞ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å 2 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ (GradesTab) –Ω—É–∂–Ω–æ N –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è N —É—Ä–æ–∫–æ–≤

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: **–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤—è–∑–∏ –∂—É—Ä–Ω–∞–ª-—Å—Ç—É–¥–µ–Ω—Ç—ã** ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

#### –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `journals`:
```javascript
journals
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ classId
‚îú‚îÄ‚îÄ name
‚îú‚îÄ‚îÄ isDefault
‚îî‚îÄ‚îÄ studentIds: string[]  // ‚¨ÖÔ∏è –ù–û–í–û–ï: –º–∞—Å—Å–∏–≤ ID —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£–±–∏—Ä–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é `journalStudents`
- ‚úÖ –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∂—É—Ä–Ω–∞–ª–∞
- ‚úÖ Firestore –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `array-contains` –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: `arrayUnion()`, `arrayRemove()`

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 20,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –¥–ª—è –∫–ª–∞—Å—Å–∞)
- ‚ö†Ô∏è –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∂—É—Ä–Ω–∞–ª–∞ (–Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ)

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã:**
```diff
- –î–æ:  3 –∑–∞–ø—Ä–æ—Å–∞ (journal + journalStudents + students batch)
+ –ü–æ—Å–ª–µ: 2 –∑–∞–ø—Ä–æ—Å–∞ (journal —Å studentIds + students batch)
= 33% –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ attendance –≤ lessons**

#### –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `lessons`:
```javascript
lessons
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ journalId
‚îú‚îÄ‚îÄ date
‚îî‚îÄ‚îÄ attendance: {           // ‚¨ÖÔ∏è –ù–û–í–û–ï: –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
    [studentId]: boolean
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —É—Ä–æ–∫–∞
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: 1MB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –¥–æ—Å—Ç–∏—á—å)
- ‚ö†Ô∏è –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ attendance –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞

**–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è `grades`:**
- –û—Ü–µ–Ω–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞ —É—Ä–æ–∫)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä
- –õ—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: **–°—É–±–∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

#### –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `attendance` –∏ `grades` –≤ —Å—É–±–∫–æ–ª–ª–µ–∫—Ü–∏–∏:
```
lessons/{lessonId}
‚îú‚îÄ‚îÄ id
‚îú‚îÄ‚îÄ journalId
‚îú‚îÄ‚îÄ date
‚îú‚îÄ‚îÄ /attendance (subcollection)
‚îÇ   ‚îî‚îÄ‚îÄ {studentId}
‚îÇ       ‚îî‚îÄ‚îÄ isPresent
‚îî‚îÄ‚îÄ /grades (subcollection)
    ‚îî‚îÄ‚îÄ {gradeId}
        ‚îú‚îÄ‚îÄ studentId
        ‚îú‚îÄ‚îÄ grade
        ‚îî‚îÄ‚îÄ comment
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—Ä–æ–∫–∞ (—Å Cloud Functions)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ –≤—Å–µ–º —É—Ä–æ–∫–∞–º
- ‚ö†Ô∏è –ù–µ–≤–æ–∑–º–æ–∂–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Ç–∏–ø–∞ "–≤—Å–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞"
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ GradesTab

**–í–µ—Ä–¥–∏–∫—Ç:** ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞—à–µ–≥–æ use case

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: **–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è `journals`** ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**
```javascript
journals {
  id: string
  classId: string
  name: string
  isDefault: boolean
  studentIds: string[]  // ‚¨ÖÔ∏è –î–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ –ø–æ–ª–µ
}
```

**–ú–∏–≥—Ä–∞—Ü–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `studentIds` –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∂—É—Ä–Ω–∞–ª—ã
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∏–∑ `journalStudents`
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–æ–º
4. –£–¥–∞–ª–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `journalStudents` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—ç–∫–∞–ø–∞)

**–ö–æ–¥ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ë—ã–ª–æ: 2 –∑–∞–ø—Ä–æ—Å–∞
const studentIds = await journalService.getStudentsByJournalId(journalId);
const students = await studentService.getByIds(studentIds);

// –°—Ç–∞–Ω–µ—Ç: 1 –∑–∞–ø—Ä–æ—Å
const journal = await journalService.getById(journalId);
const students = await studentService.getByIds(journal.studentIds);
```

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ `attendance` –≤ `lessons`** ‚ö†Ô∏è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û—Ü–µ–Ω–∫–∞:**
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è: ~1 –∑–∞–ø—Ä–æ—Å –Ω–∞ —É—Ä–æ–∫
- –†–∏—Å–∫–∏: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (–∫–ª–∞—Å—Å —Ä–µ–¥–∫–æ > 50 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: —Å—Ä–µ–¥–Ω—è—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å, —Ç–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–∂–µ —Ö–æ—Ä–æ—à–∞.

---

### ‚ùå –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–°—É–±–∫–æ–ª–ª–µ–∫—Ü–∏–∏** - —É—Å–ª–æ–∂–Ω—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è GradesTab
2. **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –∫–ª–∞—Å—Å** - —Ç–µ—Ä—è–µ—Ç—Å—è –≥–∏–±–∫–æ—Å—Ç—å
3. **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫ –≤ —É—Ä–æ–∫** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—Å–ª–µ –í–∞—Ä–∏–∞–Ω—Ç 1

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):
```
JournalPage –∑–∞–≥—Ä—É–∑–∫–∞:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∂—É—Ä–Ω–∞–ª (1 –∑–∞–ø—Ä–æ—Å)
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å journalStudents (1 –∑–∞–ø—Ä–æ—Å)
3. Batch –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (1-3 –∑–∞–ø—Ä–æ—Å–∞)
4. –°–æ–∑–¥–∞—Ç—å/–∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Ä–æ–∫ (1-2 –∑–∞–ø—Ä–æ—Å–∞)
5. –ó–∞–≥—Ä—É–∑–∏—Ç—å attendance (1 –∑–∞–ø—Ä–æ—Å)
6. –ó–∞–≥—Ä—É–∑–∏—Ç—å grades (1 –∑–∞–ø—Ä–æ—Å)
= 6-9 –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ü–æ—Å–ª–µ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ journals:
```
JournalPage –∑–∞–≥—Ä—É–∑–∫–∞:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∂—É—Ä–Ω–∞–ª —Å studentIds (1 –∑–∞–ø—Ä–æ—Å)
2. Batch –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (1-3 –∑–∞–ø—Ä–æ—Å–∞)
3. –°–æ–∑–¥–∞—Ç—å/–∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Ä–æ–∫ (1-2 –∑–∞–ø—Ä–æ—Å–∞)
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å attendance (1 –∑–∞–ø—Ä–æ—Å)
5. –ó–∞–≥—Ä—É–∑–∏—Ç—å grades (1 –∑–∞–ø—Ä–æ—Å)
= 5-8 –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞ 15-20% –±—ã—Å—Ç—Ä–µ–µ)
```

---

## üîß –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Ä–µ—à–∏—Ç–µ –≤–Ω–µ–¥—Ä–∏—Ç—å)

### –§–∞–∑–∞ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è (–±–µ–∑ breaking changes)
1. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø `Journal` –≤ TypeScript
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `studentIds?: string[]` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ!)
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è `studentIds`
4. –ù–∞–ø–∏—Å–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤

### –§–∞–∑–∞ 2: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
1. –û–±–Ω–æ–≤–∏—Ç—å `journalService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `studentIds`
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã –∫–∞–∫ fallback
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–æ–≤—ã—Ö –∂—É—Ä–Ω–∞–ª–∞—Ö

### –§–∞–∑–∞ 3: –û—á–∏—Å—Ç–∫–∞
1. –£–±—Ä–∞—Ç—å fallback –Ω–∞ `journalStudents`
2. –£–¥–∞–ª–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `journalStudents` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ Firestore

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):
- **–ß–∏—Ç–∞–µ—Ç:** ~5-8 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –∂—É—Ä–Ω–∞–ª–∞
- **–ü–∏—à–µ—Ç:** ~2-3 –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –∂—É—Ä–Ω–∞–ª

### –ü–æ—Å–ª–µ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:
- **–ß–∏—Ç–∞–µ—Ç:** ~5-7 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –∂—É—Ä–Ω–∞–ª–∞ (‚Üì15%)
- **–ü–∏—à–µ—Ç:** ~1 –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –∂—É—Ä–Ω–∞–ª (‚Üì66%)

**–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π:** ~$0.001 (–Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø—Ä–∏—è—Ç–Ω–æ)

---

## üé¨ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –°—Ç–æ–∏—Ç –ª–∏ –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É? **–î–ê, –ù–û —á–∞—Å—Ç–∏—á–Ω–æ**

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ **–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è journals** - –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Å—Ç–æ–∏—Ç, –ø—Ä–æ—Å—Ç–∞—è –º–∏–≥—Ä–∞—Ü–∏—è, –±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç
2. ‚ö†Ô∏è **Attendance –≤ lessons** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å
3. ‚ùå **–û—Å—Ç–∞–ª—å–Ω–æ–µ** - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- –í —Ü–µ–ª–æ–º —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —É–∂–µ —Ä–µ—à–µ–Ω—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ batch-–∑–∞–≥—Ä—É–∑–∫–æ–π
- –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞—Å—Ç 10-20% —É–ª—É—á—à–µ–Ω–∏—è, –Ω–µ 300% –∫–∞–∫ –ø–µ—Ä–≤–∞—è

**–í—ã–≤–æ–¥:** –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –æ–Ω–∞ –≤–ø–æ–ª–Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞. –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è `journals` - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å—Ç–æ—è—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–µ.

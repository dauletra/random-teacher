# üé≤ –ê–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

### 1. **–†–∞–∑–¥–µ–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ –≥—Ä—É–ø–ø—ã** (—Ä–∞–Ω–¥–æ–º–Ω–æ)
- –í—ã–±—Ä–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø –∏–ª–∏ —Ä–∞–∑–º–µ—Ä –≥—Ä—É–ø–ø—ã
- –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä—É–ø–ø

### 2. **–í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞**
- –†—É–ª–µ—Ç–∫–∞/—Ä–∞–Ω–¥–æ–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞
- –ò—Å–∫–ª—é—á–∏—Ç—å —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 3. **–í—ã–±—Ä–∞—Ç—å –¥–≤–æ–∏—Ö –¥–ª—è —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è**
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –¥–≤—É—Ö —É—á–µ–Ω–∏–∫–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è "vs"

### 4. **–ë–∞–ª–ª—ã –¥–ª—è –≥—Ä—É–ø–ø**
- –ö–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–±–∞–≤–ª—è—Ç—å –±–∞–ª–ª—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ –≥—Ä—É–ø–ø

### 5. **–°–ª—É—á–∞–π–Ω–∞—è —Ä–∞—Å—Å–∞–¥–∫–∞**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ —Ä–∞—Å—Å–∞–¥–∫–∏
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å—Ö–µ–º–µ –∫–ª–∞—Å—Å–∞

---

## ü§î –í–æ–ø—Ä–æ—Å: –ù—É–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î?

### –î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:

#### –ü–æ–¥—Ö–æ–¥ A: **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (in-memory)** ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
–•—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ —Ç–æ–ª—å–∫–æ –≤ React state, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ Firestore

#### –ü–æ–¥—Ö–æ–¥ B: **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**
–°–æ—Ö—Ä–∞–Ω—è—Ç—å –≥—Ä—É–ø–ø—ã, –±–∞–ª–ª—ã, —Ä–∞—Å—Å–∞–¥–∫—É –≤ Firestore

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è:

| –§—É–Ω–∫—Ü–∏—è | –ù—É–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å? | –ü—Ä–∏—á–∏–Ω–∞ |
|---------|---------------------|---------|
| **–°–ª—É—á–∞–π–Ω—ã–µ –≥—Ä—É–ø–ø—ã** | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ | –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ–º –∂–µ –≥—Ä—É–ø–ø–∞–º –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ |
| **–í—ã–±–æ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞** | ‚ùå –ù–ï–¢ | –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è |
| **–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ –¥–≤–æ–∏—Ö** | ‚ùå –ù–ï–¢ | –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è |
| **–ë–∞–ª–ª—ã –≥—Ä—É–ø–ø** | ‚úÖ –î–ê | –ï—Å–ª–∏ –±–∞–ª–ª—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É —É—Ä–æ–∫–∞–º–∏ |
| **–†–∞—Å—Å–∞–¥–∫–∞** | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ | –ï—Å–ª–∏ —É—á–∏—Ç–µ–ª—å —Ö–æ—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Ä–∞—Å—Å–∞–¥–∫—É |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** ‚≠ê –õ–£–ß–®–ò–ô

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (React state):
```typescript
// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
interface RandomizerState {
  mode: 'select' | 'groups' | 'competition' | 'seating';

  // –î–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞
  selectedStudent?: Student;
  excludedStudents: string[];  // ID —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö

  // –î–ª—è —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
  competitors?: [Student, Student];

  // –î–ª—è –≥—Ä—É–ø–ø (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ)
  temporaryGroups?: StudentGroup[];
}
```

#### –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Firestore):
```typescript
// –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É—á–∏—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä—É–ø–ø—ã"
interface SavedGroups {
  id: string;
  journalId: string;
  lessonId?: string;       // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Ä–æ–∫—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  name: string;            // "–ì—Ä—É–ø–ø—ã –æ—Ç 15.01.2026"
  groups: {
    id: string;
    name: string;          // "–ì—Ä—É–ø–ø–∞ 1", "–ì—Ä—É–ø–ø–∞ 2"
    studentIds: string[];
    points: number;        // –ë–∞–ª–ª—ã –≥—Ä—É–ø–ø—ã
  }[];
  createdAt: Timestamp;
}
```

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è)

```
Firestore collections:
‚îú‚îÄ‚îÄ classes
‚îú‚îÄ‚îÄ students
‚îú‚îÄ‚îÄ journals
‚îú‚îÄ‚îÄ lessons
‚îú‚îÄ‚îÄ attendance
‚îú‚îÄ‚îÄ grades
‚îî‚îÄ‚îÄ savedGroups (–ù–û–í–ê–Ø, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è)
    ‚îú‚îÄ‚îÄ id
    ‚îú‚îÄ‚îÄ journalId
    ‚îú‚îÄ‚îÄ lessonId (nullable)
    ‚îú‚îÄ‚îÄ name
    ‚îú‚îÄ‚îÄ groups: [{
    ‚îÇ   id: string
    ‚îÇ   name: string
    ‚îÇ   studentIds: string[]
    ‚îÇ   points: number
    ‚îÇ}]
    ‚îî‚îÄ‚îÄ createdAt
```

**–ü–æ—á–µ–º—É —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è?**
- ‚úÖ –†–∞—Å—Å–∞–¥–∫–∞ = —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≥—Ä—É–ø–ø—ã —Å 1 —Å—Ç—É–¥–µ–Ω—Ç–æ–º –≤ –∫–∞–∂–¥–æ–π
- ‚úÖ –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ = —ç—Ç–æ –≥—Ä—É–ø–ø—ã —Å 2 —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤

---

## üé® UX Flow –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

### 1. **–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –≥—Ä—É–ø–ø—ã**

**UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –≥—Ä—É–ø–ø                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [ ] –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≥—Ä—É–ø–ø: [3‚ñº]       ‚îÇ
‚îÇ [x] –ü–æ —Ä–∞–∑–º–µ—Ä—É –≥—Ä—É–ø–ø—ã: [5‚ñº]         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã]           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ì—Ä—É–ø–ø–∞ 1 (5 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)     üìå 10 –±  ‚îÇ
‚îÇ ‚Ä¢ –ò–≤–∞–Ω–æ–≤ –ê.                         ‚îÇ
‚îÇ ‚Ä¢ –ü–µ—Ç—Ä–æ–≤ –ë.                         ‚îÇ
‚îÇ ‚Ä¢ –°–∏–¥–æ—Ä–æ–≤ –í.                        ‚îÇ
‚îÇ ‚Ä¢ –ö–æ–∑–ª–æ–≤ –ì.                         ‚îÇ
‚îÇ ‚Ä¢ –ù–æ–≤–∏–∫–æ–≤ –î.                        ‚îÇ
‚îÇ [+ –±–∞–ª–ª] [- –±–∞–ª–ª]                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ì—Ä—É–ø–ø–∞ 2 (5 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)     üìå 8 –±   ‚îÇ
‚îÇ ...                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [üîÑ –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å] [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–õ–æ–≥–∏–∫–∞:**
```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏ (–≤—Ä–µ–º–µ–Ω–Ω–æ)
const generateGroups = (students: Student[], groupSize: number) => {
  const shuffled = [...students].sort(() => Math.random() - 0.5);
  const groups = [];

  for (let i = 0; i < shuffled.length; i += groupSize) {
    groups.push({
      id: crypto.randomUUID(),
      name: `–ì—Ä—É–ø–ø–∞ ${groups.length + 1}`,
      studentIds: shuffled.slice(i, i + groupSize).map(s => s.id),
      points: 0
    });
  }

  return groups;
};

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ –∫–Ω–æ–ø–∫–µ)
const saveGroups = async () => {
  await createDocument('savedGroups', {
    journalId,
    lessonId: currentLesson.id,
    name: `–ì—Ä—É–ø–ø—ã –æ—Ç ${new Date().toLocaleDateString()}`,
    groups: temporaryGroups
  });
};
```

---

### 2. **–í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞**

**UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã üé∞                   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ        [–ë–æ–ª—å—à–∞—è –∞–Ω–∏–º–∞—Ü–∏—è            ‚îÇ
‚îÇ         —Ä—É–ª–µ—Ç–∫–∏ —Å –∏–º–µ–Ω–∞–º–∏]          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [ ] –ò—Å–∫–ª—é—á–∏—Ç—å —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [üé≤ –ö–†–£–¢–ò–¢–¨ –†–£–õ–ï–¢–ö–£]                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üéâ –í—ã–±—Ä–∞–Ω:                          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ       –ò–í–ê–ù–û–í –ê–õ–ï–ö–°–ï–ô                ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [‚úì –û—Ç–º–µ—Ç–∏—Ç—å –æ—Ç–≤–µ—Ç] [üîÑ –ï—â—ë —Ä–∞–∑]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–õ–æ–≥–∏–∫–∞:**
```typescript
const selectRandomStudent = (
  availableStudents: Student[],
  excludedIds: string[]
) => {
  const pool = availableStudents.filter(
    s => !excludedIds.includes(s.id)
  );

  if (pool.length === 0) {
    // –í—Å–µ —É–∂–µ –≤—ã–±—Ä–∞–Ω—ã, —Å–±—Ä–æ—Å–∏—Ç—å
    return selectRandomStudent(availableStudents, []);
  }

  const randomIndex = Math.floor(Math.random() * pool.length);
  return pool[randomIndex];
};
```

**–î–∞–Ω–Ω—ã–µ:** ‚ùå –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

---

### 3. **–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ –¥–≤–æ–∏—Ö**

**UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ë–∏—Ç–≤–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ ‚öîÔ∏è                  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ   –ò–í–ê–ù–û–í –ê.     VS     –ü–ï–¢–†–û–í –ë.   ‚îÇ
‚îÇ      üòé                   ü§ì        ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ   [+1 –±–∞–ª–ª]           [+1 –±–∞–ª–ª]    ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [üîÑ –ù–æ–≤–∞—è –ø–∞—Ä–∞]                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–õ–æ–≥–∏–∫–∞:**
```typescript
const selectCompetitors = (students: Student[]) => {
  const shuffled = [...students].sort(() => Math.random() - 0.5);
  return [shuffled[0], shuffled[1]] as [Student, Student];
};

// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª –ø–æ–±–µ–¥–∏—Ç–µ–ª—é:
const addPointToWinner = async (studentId: string) => {
  // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –æ—Ü–µ–Ω–∫—É –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é "–±–∞–ª–ª–æ–≤"
  await lessonService.addGrade(lessonId, studentId, 1, '–ü–æ–±–µ–¥–∞ –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏');
};
```

**–î–∞–Ω–Ω—ã–µ:** ‚ùå –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏ –±–∞–ª–ª –∫–∞–∫ –æ—Ü–µ–Ω–∫—É)

---

### 4. **–ë–∞–ª–ª—ã –≥—Ä—É–ø–ø**

**–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Ä–æ–∫—É (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è)
```typescript
// –ë–∞–ª–ª—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —É—Ä–æ–∫
interface LessonGroups {
  lessonId: string;
  groups: { name: string; points: number }[];
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
```typescript
// –ë–∞–ª–ª—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —É—Ä–æ–∫–∏
interface GroupPoints {
  id: string;
  journalId: string;
  groupName: string;
  totalPoints: number;
  history: {
    lessonId: string;
    points: number;
    date: Timestamp;
  }[];
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å –í–∞—Ä–∏–∞–Ω—Ç–∞ A (–ø—Ä–æ—â–µ), –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ B

---

### 5. **–°–ª—É—á–∞–π–Ω–∞—è —Ä–∞—Å—Å–∞–¥–∫–∞**

**UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü–ª–∞–Ω —Ä–∞—Å—Å–∞–¥–∫–∏ ü™ë                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –†—è–¥ 1: [–ò–≤–∞–Ω–æ–≤] [–ü–µ—Ç—Ä–æ–≤] [–°–∏–¥–æ—Ä–æ–≤] ‚îÇ
‚îÇ –†—è–¥ 2: [–ö–æ–∑–ª–æ–≤] [–ù–æ–≤–∏–∫–æ–≤] [–ï–≥–æ—Ä–æ–≤] ‚îÇ
‚îÇ –†—è–¥ 3: [...]                        ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [üé≤ –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å] [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
interface SeatingPlan {
  id: string;
  journalId: string;
  name: string;
  layout: {
    rows: number;
    cols: number;
  };
  assignments: {
    row: number;
    col: number;
    studentId: string;
  }[];
  createdAt: Timestamp;
}
```

**–î–∞–Ω–Ω—ã–µ:** ‚ö†Ô∏è –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å–ª–∏ —É—á–∏—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")

---

## üóÇÔ∏è –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ):
```
‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ - –ù–ï –º–µ–Ω—è—Ç—å
‚ùå –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ - –≤ React state (–≤—Ä–µ–º–µ–Ω–Ω–æ)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ):
```
‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
‚ûï savedConfigurations (–û–î–ù–ê –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –≤—Å–µ–≥–æ)
   ‚îú‚îÄ‚îÄ id
   ‚îú‚îÄ‚îÄ journalId
   ‚îú‚îÄ‚îÄ lessonId (nullable)
   ‚îú‚îÄ‚îÄ type: 'groups' | 'seating' | 'points'
   ‚îú‚îÄ‚îÄ name: string
   ‚îú‚îÄ‚îÄ data: JSON  // –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥ –ª—é–±–æ–π —Ç–∏–ø
   ‚îî‚îÄ‚îÄ createdAt
```

**–ü–æ—á–µ–º—É –æ–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è?**
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π = –ø—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö —Ç–∏–ø–æ–≤
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: MVP (–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç) ‚≠ê –ù–ê–ß–ê–¢–¨ –° –≠–¢–û–ì–û

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –í–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ - **—Ç–æ–ª—å–∫–æ –≤ React state**
2. –ù–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ Firestore
3. –î–∞–Ω–Ω—ã–µ "–∂–∏–≤—É—Ç" —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –≤–∫–ª–∞–¥–∫–∞

**–ü–æ—á–µ–º—É:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (1-2 –¥–Ω—è –≤–º–µ—Å—Ç–æ –Ω–µ–¥–µ–ª–∏)
- ‚úÖ –ù–µ –Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
- ‚úÖ –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ü–æ–∫—Ä—ã–≤–∞–µ—Ç 80% use cases

**–ö–æ–¥:**
```typescript
// src/pages/JournalPage.tsx
const [randomizerState, setRandomizerState] = useState({
  mode: null,
  groups: [],
  selectedStudent: null,
  // ... –≤—Å—ë –≤—Ä–µ–º–µ–Ω–Ω–æ–µ
});
```

---

### –§–∞–∑–∞ 2: –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–ö–æ–≥–¥–∞:**
- –£—á–∏—Ç–µ–ª—è –ø—Ä–æ—Å—è—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≥—Ä—É–ø–ø—ã –º–µ–∂–¥—É —É—Ä–æ–∫–∞–º–∏
- –ù—É–∂–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–∞–ª–ª–∞–º –≥—Ä—É–ø–ø

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```typescript
// –û–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –≤—Å–µ–≥–æ
interface SavedConfiguration {
  id: string;
  journalId: string;
  type: 'groups' | 'seating';
  name: string;
  data: any;  // JSON —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
  createdAt: Timestamp;
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä—É–ø–ø—ã
const saveConfiguration = async () => {
  await createDocument('savedConfigurations', {
    journalId,
    type: 'groups',
    name: `–ì—Ä—É–ø–ø—ã ${new Date().toLocaleDateString()}`,
    data: {
      groups: currentGroups
    }
  });
};

// –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ
const loadSaved = async () => {
  const configs = await getDocuments(
    'savedConfigurations',
    where('journalId', '==', journalId),
    where('type', '==', 'groups')
  );
};
```

---

## üìù –ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç

### –ù—É–∂–Ω—ã –ª–∏ –Ω–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã? **–ù–ï–¢*** (—Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏)

**–î–ª—è MVP:**
- ‚ùå –ù–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ù–ï –Ω—É–∂–Ω—ã
- ‚úÖ –í—Å—ë –≤ React state
- ‚úÖ –ë—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç

**–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ–∏—á:**
- ‚ö†Ô∏è –û–¥–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è `savedConfigurations`
- ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

---

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤ –ø–∞–º—è—Ç–∏)
```
src/components/randomizer/
‚îú‚îÄ‚îÄ RandomStudentPicker.tsx   // –í—ã–±–æ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ GroupGenerator.tsx         // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø
‚îú‚îÄ‚îÄ CompetitionMode.tsx        // –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ SeatingPlan.tsx            // –†–∞—Å—Å–∞–¥–∫–∞
‚îî‚îÄ‚îÄ GroupPoints.tsx            // –ë–∞–ª–ª—ã –≥—Ä—É–ø–ø
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫–∏ –≤ JournalPage
```typescript
<Tabs>
  <Tab name="randomizer">
    <RandomizerTab students={students} />
  </Tab>
  <Tab name="seating">
    <SeatingTab students={students} />
  </Tab>
  <Tab name="groups">
    <GroupsTab students={students} />
  </Tab>
</Tabs>
```

### –®–∞–≥ 3: (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ—Å—è—Ç!

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û—Ç–≤–µ—Ç:** –ù–ï–¢, –Ω–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î **–Ω–µ –Ω—É–∂–Ω—ã** –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**–ü–æ—á–µ–º—É:**
- 90% —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ (–Ω–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å)
- React state –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–æ—â–µ, –±—ã—Å—Ç—Ä–µ–µ, –º–µ–Ω—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –ë–î:**
- –ï—Å–ª–∏ —É—á–∏—Ç–µ–ª—è —Ö–æ—Ç—è—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≥—Ä—É–ø–ø—ã –º–µ–∂–¥—É —É—Ä–æ–∫–∞–º–∏
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ï—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è –∫–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–ª

**–ú–æ–π —Å–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å React state, –¥–æ–±–∞–≤–∏—Ç–µ –ë–î –ø–æ–∑–∂–µ –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è! üéØ
